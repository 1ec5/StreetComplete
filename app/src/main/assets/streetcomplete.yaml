global:
    geometry_color: '#88536dfe' # location color + alpha

textures:
    quests:
        url: quests.png
        filtering: mipmap
        sprites: {ic_quest_street_surface: [0,0,128,128], ic_quest_bicycle_parking: [128,0,128,128], ic_quest_apple: [256,0,128,128], ic_quest_wheelchair_shop: [384,0,128,128], ic_quest_roof_shape: [512,0,128,128], ic_quest_toilets: [0,128,128,128], ic_quest_opening_hours: [128,128,128,128], ic_quest_recycling: [256,128,128,128], ic_quest_fire_hydrant: [384,128,128,128], ic_quest_housenumber: [512,128,128,128], ic_quest_street_name: [0,256,128,128], ic_quest_max_speed: [128,256,128,128], ic_quest_blind_bus: [256,256,128,128], ic_quest_pedestrian_crossing: [384,256,128,128], ic_quest_lantern: [512,256,128,128], ic_quest_baby: [0,384,128,128], ic_quest_bus: [128,384,128,128], ic_quest_sport: [256,384,128,128], ic_quest_wheelchair: [384,384,128,128], ic_quest_blind_pedestrian_crossing: [512,384,128,128], ic_quest_building_levels: [0,512,128,128]}

styles:
    quest-icons:
        base: points
        texture: quests
        blend: overlay
        blend_order: 1
    geometry-lines:
        base: lines
        blend: overlay
    geometry-polygons:
        base: polygons
        blend: overlay
    geometry-points:
        base: points
        blend: overlay

layers:
    streetcomplete_quests:
        filter: { $zoom: { min: 14 } }
        data: { source: streetcomplete_quests }
        draw:
            quest-icons:
                interactive: true
                priority: function() { return feature.order }
                size: 64px
                sprite: function() { return feature.kind }
                sprite_default: quest
                offset: [-16px, -64px]
    streetcomplete_geometry:
        data: { source: streetcomplete_geometry }
        line:
            filter: { type: line }
            draw:
                geometry-lines:
                    color: global.geometry_color
                    width: 16px
                    collide: false
                    order: 1000
                    cap: round
                    join: round
        poly:
            filter: { type: poly }
            draw:
                geometry-polygons:
                    color: global.geometry_color
                    width: 16px
                    collide: false
                    order: 1000
                    cap: round
                    join: round
        point:
            filter: { type: point }
            draw:
                geometry-points:
                    color: global.geometry_color
                    size: 32px
                    collide: false
                    order: 1000
